import matplotlib.pyplot as plt
from matplotlib.pyplot import figure, plot, imread, subplot, show#, xlim, ylim, imshow
import numpy as np
import math as m
import yaml

pointcloud=[
[0.149407, -1.14196, 0.3],
[0.154703, -1.1669, 0.3],
[0.16008, -1.18382, 0.3],
[0.29976, -7.41927, 0.3],
[0.332082, -7.4185, 0.3],
[0.363825, -7.3986, 0.3],
[0.395744, -7.38856, 0.3],
[0.427932, -7.38737, 0.3],
[0.460114, -7.38604, 0.3],
[0.492194, -7.38257, 0.3],
[0.523366, -7.36199, 0.3],
[0.554816, -7.34926, 0.3],
[0.586041, -7.3344, 0.3],
[0.61799, -7.33238, 0.3],
[0.649931, -7.33022, 0.3],
[0.681861, -7.32792, 0.3],
[0.712375, -7.30754, 0.3],
[0.742722, -7.28703, 0.3],
[0.773943, -7.27835, 0.3],
[0.805282, -7.27153, 0.3],
[0.836956, -7.26855, 0.3],
[0.867318, -7.2525, 0.3],
[0.898908, -7.24925, 0.3],
[0.92929, -7.23493, 0.3],
[0.960126, -7.22545, 0.3],
[0.990309, -7.21087, 0.3],
[1.02208, -7.21007, 0.3],
[1.05311, -7.20317, 0.3],
[1.08266, -7.18523, 0.3],
[1.11395, -7.18104, 0.3],
[1.14301, -7.16087, 0.3],
[1.17334, -7.15048, 0.3],
[1.20522, -7.15084, 0.3],
[1.23561, -7.14117, 0.3],
[1.2653, -7.12743, 0.3],
[1.29522, -7.11553, 0.3],
[1.32621, -7.11042, 0.3],
[1.34856, -7.0549, 0.3],
[1.37929, -7.04955, 0.3],
[1.41389, -7.06572, 0.3],
[1.44739, -7.07483, 0.3],
[1.4769, -7.06217, 0.3],
[1.50765, -7.05626, 0.3],
[1.53702, -7.04335, 0.3],
[1.5659, -7.02836, 0.3],
[1.5961, -7.0201, 0.3],
[1.62502, -7.00585, 0.3],
[1.65552, -6.99929, 0.3],
[1.68579, -6.99163, 0.3],
[1.71645, -6.98578, 0.3],
[1.74261, -6.96031, 0.3],
[1.77292, -6.95324, 0.3],
[1.8032, -6.94604, 0.3],
[1.8351, -6.9455, 0.3],
[1.86655, -6.94288, 0.3],
[1.89678, -6.93527, 0.3],
[1.92199, -6.90816, 0.3],
[1.9508, -6.89547, 0.3],
[1.98082, -6.88749, 0.3],
[2.01291, -6.8871, 0.3],
[2.04316, -6.87981, 0.3],
[2.07312, -6.87143, 0.3],
[2.10138, -6.85715, 0.3],
[2.13124, -6.84851, 0.3],
[2.16219, -6.84358, 0.3],
[2.19199, -6.83468, 0.3],
[2.21795, -6.81321, 0.3],
[2.24732, -6.80311, 0.3],
[2.27724, -6.79479, 0.3],
[2.30713, -6.78634, 0.3],
[2.3376, -6.77966, 0.3],
[2.36617, -6.76714, 0.3],
[2.39405, -6.7526, 0.3],
[2.42281, -6.7408, 0.3],
[2.45215, -6.73076, 0.3],
[2.48507, -6.73097, 0.3],
[2.51604, -6.72537, 0.3],
[2.54532, -6.71493, 0.3],
[2.5725, -6.69871, 0.3],
[2.60166, -6.68802, 0.3],
[2.63183, -6.68001, 0.3],
[2.66409, -6.67747, 0.3],
[2.69494, -6.67104, 0.3],
[2.72326, -6.65795, 0.3],
[2.75224, -6.6466, 0.3],
[2.78117, -6.63512, 0.3],
[2.81043, -6.62444, 0.3],
[2.8404, -6.61549, 0.3],
[2.87034, -6.60639, 0.3],
[2.90025, -6.59717, 0.3],
[2.92897, -6.58504, 0.3],
[2.96118, -6.58106, 0.3],
[2.98982, -6.56867, 0.3],
[3.01841, -6.55615, 0.3],
[3.04979, -6.54991, 0.3],
[3.07953, -6.53986, 0.3],
[3.10799, -6.52695, 0.3],
[3.14225, -6.52664, 0.3],
[3.17065, -6.51345, 0.3],
[3.199, -6.50015, 0.3],
[3.26983, -6.57608, 0.3],
[3.51785, -7.01815, 0.3],
[3.54839, -7.00332, 0.3],
[3.44997, -6.72644, 0.3],
[3.91241, -7.0357, 0.3],
[3.94303, -7.01915, 0.3],
[4.1783, -7.15268, 0.3],
[4.20942, -7.13497, 0.3],
[4.18358, -7.01837, 0.3],
[4.17841, -6.93929, 0.3],
[4.20861, -6.92158, 0.3],
[4.05653, -6.59688, 0.3],
[4.07804, -6.5677, 0.3],
[4.10351, -6.5453, 0.3],
[4.12625, -6.51854, 0.3],
[4.15408, -6.5002, 0.3],
[4.13899, -6.41305, 0.3],
[3.77648, -5.7755, 0.3],
[3.78981, -5.741, 0.3],
[3.78454, -5.67789, 0.3],
[3.72824, -5.53692, 0.3],
[3.68994, -5.42584, 0.3],
[3.65019, -5.31436, 0.3],
[3.67331, -5.29897, 0.3],
[3.70641, -5.29841, 0.3],
[3.73788, -5.29517, 0.3],
[3.76092, -5.2794, 0.3],
[3.78445, -5.26434, 0.3],
[3.81022, -5.25246, 0.3],
[3.84055, -5.24699, 0.3],
[3.86628, -5.23484, 0.3],
[3.88905, -5.21851, 0.3],
[3.91703, -5.20936, 0.3],
[3.945, -5.20006, 0.3],
[3.97118, -5.18821, 0.3],
[4.00271, -5.18344, 0.3],
[4.03486, -5.17929, 0.3],
[4.0586, -5.16381, 0.3],
[4.09443, -5.16409, 0.3],
[4.12544, -5.15783, 0.3],
[4.15218, -5.14588, 0.3],
[4.17827, -5.13301, 0.3],
[4.20059, -5.11532, 0.3],
[4.22221, -5.09674, 0.3],
[4.24438, -5.07886, 0.3],
[4.27657, -5.07326, 0.3],
[4.32657, -5.0891, 0.3],
[4.35892, -5.08306, 0.3],
[4.38166, -5.06534, 0.3],
[4.41143, -5.05591, 0.3],
[4.44638, -5.05241, 0.3],
[4.46835, -5.03354, 0.3],
[4.30949, -4.80624, 0.3],
[4.33039, -4.78797, 0.3],
[4.55758, -5.00333, 0.3],
[4.58, -4.98473, 0.3],
[4.61637, -4.98163, 0.3],
[4.64743, -4.97239, 0.3],
[4.68456, -4.9696, 0.3],
[4.70752, -4.95116, 0.3],
[4.73586, -4.93847, 0.3],
[4.7669, -4.92854, 0.3],
[4.80482, -4.92569, 0.3],
[4.83728, -4.91681, 0.3],
[4.86629, -4.90415, 0.3],
[4.8883, -4.88417, 0.3],
[4.92563, -4.87978, 0.3],
[4.95598, -4.86806, 0.3],
[4.99338, -4.86323, 0.3],
[5.02232, -4.84972, 0.3],
[5.04767, -4.83254, 0.3],
[5.08512, -4.8271, 0.3],
[5.10611, -4.80545, 0.3],
[5.14574, -4.80168, 0.3],
[5.18182, -4.79422, 0.3],
[5.20702, -4.77626, 0.3],
[5.25115, -4.7759, 0.3],
[5.27923, -4.7603, 0.3],
[5.29992, -4.7378, 0.3],
[5.32717, -4.72126, 0.3],
[5.36475, -4.71394, 0.3],
[5.40907, -4.71238, 0.3],
[5.44974, -4.7072, 0.3],
[5.48746, -4.69912, 0.3],
[5.5139, -4.68096, 0.3],
[5.54483, -4.66657, 0.3],
[5.56587, -4.64356, 0.3],
[5.62339, -4.65147, 0.3],
[5.64972, -4.63261, 0.3],
[5.68827, -4.62384, 0.3],
[5.71837, -4.60782, 0.3],
[5.73839, -4.5834, 0.3],
[5.78236, -4.5784, 0.3],
[5.82639, -4.57311, 0.3],
[5.84626, -4.54822, 0.3],
[5.86445, -4.522, 0.3],
[5.88409, -4.49694, 0.3],
[5.91389, -4.47975, 0.3],
[5.98008, -4.49041, 0.3],
[6.02979, -4.48785, 0.3],
[6.08755, -4.49097, 0.3],
[6.12146, -4.47571, 0.3],
[6.15053, -4.45666, 0.3],
[6.1868, -4.44278, 0.3],
[6.23356, -4.4363, 0.3],
[6.25283, -4.40963, 0.3],
[6.27117, -4.38229, 0.3],
[5.65754, -3.90744, 0.3],
[5.67451, -3.88329, 0.3],
[5.74223, -3.89442, 0.3],
[6.38033, -4.29769, 0.3],
[6.49967, -4.33906, 0.3],
[6.54914, -4.33193, 0.3],
[6.59866, -4.32444, 0.3],
[6.63492, -4.30777, 0.3],
[6.67617, -4.29416, 0.3],
[6.69565, -4.2661, 0.3],
[6.75112, -4.26122, 0.3],
[6.8033, -4.25379, 0.3],
[6.83021, -4.22997, 0.3],
[6.89599, -4.23038, 0.3],
[6.93558, -4.21397, 0.3],
[6.95557, -4.18528, 0.3],
[7.00532, -4.17466, 0.3],
[7.05083, -4.16111, 0.3],
[7.09377, -4.1457, 0.3],
[7.1565, -4.14167, 0.3],
[7.18741, -4.11853, 0.3],
[7.23036, -4.1022, 0.3],
[7.29064, -4.0955, 0.3],
[7.32318, -4.07259, 0.3],
[7.39922, -4.07391, 0.3],
[7.41864, -4.04312, 0.3],
[7.46945, -4.02956, 0.3],
[7.50887, -4.00942, 0.3],
[7.5333, -3.98097, 0.3],
[7.55057, -3.94862, 0.3],
[7.59598, -3.93111, 0.3],
[7.65554, -3.92066, 0.3],
[7.76131, -3.93359, 0.3],
[7.81307, -3.91796, 0.3],
[7.85948, -3.89925, 0.3],
[7.91392, -3.88423, 0.3],
[7.963, -3.86615, 0.3],
[8.02374, -3.85342, 0.3],
[8.07642, -3.83632, 0.3],
[8.14443, -3.82615, 0.3],
[8.16102, -3.79113, 0.3],
[8.18832, -3.76112, 0.3],
[8.33247, -3.78497, 0.3],
[8.35342, -3.75121, 0.3],
[8.36968, -3.71528, 0.3],
[8.46149, -3.71306, 0.3],
[8.50501, -3.68875, 0.3],
[8.54022, -3.66054, 0.3],
[8.61021, -3.6471, 0.3],
[8.66554, -3.62686, 0.3],
[8.74294, -3.61549, 0.3],
[8.81119, -3.59969, 0.3],
[8.86468, -3.57729, 0.3],
[8.88481, -3.54101, 0.3],
[8.95672, -3.52538, 0.3],
[9.03609, -3.51212, 0.3],
[9.07922, -3.48409, 0.3],
[9.10456, -3.44893, 0.3],
[9.1195, -3.40973, 0.3],
[9.21844, -3.40199, 0.3],
[9.23317, -3.36229, 0.3],
[10.6128, -3.82048, 0.3],
[10.6294, -3.77468, 0.3],
[10.4255, -3.65064, 0.3],
[10.2056, -3.52318, 0.3],
[10.2209, -3.47916, 0.3],
[10.2445, -3.43797, 0.3],
[10.3076, -3.40997, 0.3],
[10.3461, -3.37334, 0.3],
[10.3607, -3.32871, 0.3],
[9.01056, -2.84621, 0.3],
[9.0105, -2.8035, 0.3],
[9.03502, -2.76857, 0.3],
[11.2669, -3.40997, 0.3],
[11.2816, -3.36131, 0.3],
[11.39, -3.34045, 0.3],
[14.4392, -4.17792, 0.3],
[14.4572, -4.11539, 0.3],
[14.4328, -4.04083, 0.3],
[14.3675, -3.95533, 0.3],
[14.3846, -3.89312, 0.3],
[14.4332, -3.83939, 0.3],
[14.4498, -3.77689, 0.3],
[14.4536, -3.71106, 0.3],
[14.4619, -3.6465, 0.3],
[14.4388, -3.5742, 0.3],
[10.3995, -2.51694, 0.3],
[10.4103, -2.47208, 0.3],
[10.421, -2.42718, 0.3],
[7.7503, -1.76162, 0.3],
[7.74426, -1.72525, 0.3],
[7.72051, -1.68507, 0.3],
[7.72778, -1.65193, 0.3],
[7.76909, -1.62604, 0.3],
[7.93543, -1.62591, 0.3],
[7.98256, -1.60001, 0.3],
[7.99827, -1.56748, 0.3],
[8.01188, -1.53447, 0.3],
[8.02045, -1.50042, 0.3],
[14.0665, -2.58853, 0.3],
[14.0777, -2.52765, 0.3],
[14.0305, -2.45646, 0.3],
[14.0263, -2.39319, 0.3],
[14.0179, -2.32935, 0.3],
[13.9826, -2.26127, 0.3],
[13.9637, -2.19621, 0.3],
[13.9199, -2.12756, 0.3],
[13.8885, -2.06125, 0.3],
[13.8974, -2.00115, 0.3],
[13.9168, -1.94254, 0.3],
[13.9756, -1.88921, 0.3],
[14.048, -1.83723, 0.3],
[14.2461, -1.80071, 0.3],
[14.3559, -1.75163, 0.3],
[14.4962, -1.70527, 0.3],
[14.6722, -1.6618, 0.3],
[14.8182, -1.61355, 0.3],
[14.9145, -1.55882, 0.3],
[15.0562, -1.5079, 0.3],
[15.0627, -1.4427, 0.3],
[15.0519, -1.37592, 0.3],
[15.0408, -1.30926, 0.3],
[15.0394, -1.24354, 0.3],
[12.6418, -0.988446, 0.3],
[12.5654, -0.927781, 0.3],
[12.5135, -0.869553, 0.3],
[12.5102, -0.815013, 0.3],
[12.5136, -0.760947, 0.3],
[12.6205, -0.712788, 0.3],
[12.6574, -0.660029, 0.3],
[12.6602, -0.605321, 0.3],
[12.6527, -0.550164, 0.3],
[12.655, -0.495478, 0.3],
[14.7346, -0.513942, 0.3],
[14.7367, -0.450158, 0.3],
[14.7385, -0.386367, 0.3],
[14.736, -0.322479, 0.3],
[5.9149, 0.0238518, 0.3],
[5.91475, 0.0490887, 0.3],
[5.9015, 0.0741577, 0.3],
[5.90012, 0.0993183, 0.3],
[5.89963, 0.12449, 0.3],
[5.94694, 0.150904, 0.3],
[6.062, 0.179795, 0.3],
[6.14698, 0.208654, 0.3],
[6.20189, 0.237088, 0.3],
[16.2591, 0.700978, 0.3],
[16.2559, 0.771412, 0.3],
[16.2424, 0.84131, 0.3],
[16.2216, 0.91071, 0.3],
[16.2175, 0.980978, 0.3],
[16.2031, 1.05058, 0.3],
[16.1466, 1.11715, 0.3],
[16.0977, 1.18383, 0.3],
[16.0496, 1.25019, 0.3],
[13.2648, 1.08909, 0.3],
[6.04826, 0.516288, 0.3],
[6.03303, 0.540916, 0.3],
[5.96303, 0.560163, 0.3],
[5.93271, 0.582807, 0.3],
[5.92217, 0.607282, 0.3],
[5.88771, 0.629069, 0.3],
[5.87103, 0.6526, 0.3],
[5.86119, 0.676818, 0.3],
[5.84827, 0.700598, 0.3],
[5.83922, 0.724781, 0.3],
[5.82809, 0.748639, 0.3],
[5.82477, 0.773489, 0.3],
[5.81146, 0.796936, 0.3],
[5.81781, 0.823146, 0.3],
[5.81417, 0.847951, 0.3],
[5.81042, 0.87274, 0.3],
[5.8046, 0.8972, 0.3],
[5.80063, 0.921947, 0.3],
[5.8005, 0.947335, 0.3],
[5.81698, 0.975615, 0.3],
[5.82448, 1.0025, 0.3],
[5.83087, 1.02928, 0.3],
[5.84302, 1.05724, 0.3],
[5.83934, 1.08234, 0.3],
[5.85809, 1.11181, 0.3],
[5.89726, 1.14555, 0.3],
[5.9568, 1.18385, 0.3],
[5.97309, 1.21373, 0.3],
[12.3349, 2.59306, 0.3],
[12.3235, 2.64633, 0.3],
[12.3012, 2.69717, 0.3],
[12.2873, 2.74984, 0.3],
[9.51986, 2.1665, 0.3],
[5.57585, 1.28061, 0.3],
[5.55469, 1.30063, 0.3],
[5.54897, 1.32428, 0.3],
[5.58771, 1.35902, 0.3],
[5.58174, 1.38281, 0.3],
[5.36491, 1.35205, 0.3],
[5.35897, 1.37487, 0.3],
[5.35293, 1.39767, 0.3],
[5.38437, 1.43068, 0.3],
[5.40791, 1.46187, 0.3],
[5.41302, 1.48813, 0.3],
[9.41298, 2.66071, 0.3],
[9.40609, 2.7026, 0.3],
[9.39422, 2.74307, 0.3],
[9.38218, 2.78349, 0.3],
[9.38811, 2.8294, 0.3],
[9.40335, 2.87838, 0.3],
[9.39072, 2.91884, 0.3],
[9.37697, 2.95893, 0.3],
[9.35354, 2.99587, 0.3],
[9.34514, 3.03767, 0.3],
[9.32803, 3.0766, 0.3],
[9.31832, 3.11801, 0.3],
[9.31125, 3.16037, 0.3],
[11.8211, 4.08239, 0.3],
[11.839, 4.14608, 0.3],
[11.8208, 4.19716, 0.3],
[11.8024, 4.24817, 0.3],
[11.7969, 4.30394, 0.3],
[11.749, 4.34399, 0.3],
[11.73, 4.39468, 0.3],
[9.12702, 3.58854, 0.3],
[9.1113, 3.62778, 0.3],
[9.09541, 3.66696, 0.3],
[5.15015, 2.07715, 0.3],
[5.11066, 2.08627, 0.3],
[5.13186, 2.12086, 0.3],
[5.1189, 2.14108, 0.3],
[5.10952, 2.16282, 0.3],
[5.08543, 2.17808, 0.3],
[5.06859, 2.19642, 0.3],
[5.05898, 2.21793, 0.3],
[5.04926, 2.23941, 0.3],
[5.03311, 2.25791, 0.3],
[5.02323, 2.27928, 0.3],
[5.01867, 2.30315, 0.3],
[5.01129, 2.32574, 0.3],
[5.00291, 2.34788, 0.3],
[4.99264, 2.36911, 0.3],
[4.93391, 2.36642, 0.3],
[4.88155, 2.36639, 0.3],
[4.87119, 2.38709, 0.3],
[4.93193, 2.44404, 0.3],
[4.9452, 2.47732, 0.3],
[4.93436, 2.49829, 0.3],
[5.33526, 2.7361, 0.3],
[5.32329, 2.75878, 0.3],
[4.98311, 2.60494, 0.3],
[4.97171, 2.62608, 0.3],
[4.97161, 2.65342, 0.3],
[11.2127, 6.14376, 0.3],
[11.1858, 6.19209, 0.3],
[11.1605, 6.24129, 0.3],
[11.1488, 6.29832, 0.3],
[11.1446, 6.35986, 0.3],
[11.1288, 6.41494, 0.3],
[11.1034, 6.46442, 0.3],
[11.0751, 6.51227, 0.3],
[11.0466, 6.56, 0.3],
[11.0307, 6.61538, 0.3],
[11.0427, 6.68798, 0.3],
[11.0211, 6.74029, 0.3],
[10.9891, 6.78619, 0.3],
[10.9763, 6.84421, 0.3],
[10.9295, 6.88076, 0.3],
[5.94581, 3.73836, 0.3],
[5.89513, 3.74138, 0.3],
[5.87877, 3.76649, 0.3],
[5.79819, 3.74905, 0.3],
[5.72617, 3.73654, 0.3],
[5.66099, 3.72793, 0.3],
[5.64057, 3.74921, 0.3],
[5.62089, 3.77095, 0.3],
[5.6044, 3.79487, 0.3],
[5.58782, 3.81871, 0.3],
[5.5695, 3.84133, 0.3],
[5.55596, 3.86734, 0.3],
[5.53987, 3.89156, 0.3],
[5.54064, 3.92805, 0.3],
[5.56133, 3.9794, 0.3],
[5.5905, 4.03754, 0.3],
[5.57526, 4.06311, 0.3],
[5.5575, 4.08683, 0.3],
[5.52136, 4.09655, 0.3],
[5.50346, 4.12003, 0.3],
[5.48625, 4.14404, 0.3],
[5.52323, 4.21045, 0.3],
[8.19799, 6.35926, 0.3],
[10.4735, 8.22841, 0.3],
[10.4531, 8.286, 0.3],
[10.4518, 8.35931, 0.3],
[10.4269, 8.41378, 0.3],
[10.4225, 8.48536, 0.3],
[10.3854, 8.53022, 0.3],
[10.3604, 8.58519, 0.3],
[10.3435, 8.64721, 0.3],
[10.3338, 8.71574, 0.3],
[10.329, 8.78892, 0.3],
[10.3027, 8.84386, 0.3],
[10.2641, 8.88819, 0.3],
[5.32534, 4.5927, 0.3],
[5.27995, 4.59268, 0.3],
[5.25989, 4.6151, 0.3],
[5.21238, 4.61256, 0.3],
[5.18635, 4.62928, 0.3],
[5.16613, 4.65129, 0.3],
[7.89502, 7.2396, 0.3],
[7.8634, 7.27342, 0.3],
[3.5419, 3.84956, 0.3],
[3.5251, 3.8644, 0.3],
[3.50823, 3.87915, 0.3],
[3.45022, 3.84612, 0.3],
[3.401, 3.82254, 0.3],
[3.25332, 3.68185, 0.3],
[3.23725, 3.69542, 0.3],
[3.22112, 3.70892, 0.3],
[3.20493, 3.72235, 0.3],
[3.18868, 3.73571, 0.3],
[3.14095, 3.71015, 0.3],
[3.0835, 3.67177, 0.3],
[3.05131, 3.66426, 0.3],
[3.01368, 3.64946, 0.3],
[2.97377, 3.63126, 0.3],
[2.93041, 3.60804, 0.3],
[2.88973, 3.58768, 0.3],
[2.85231, 3.57101, 0.3],
[2.81028, 3.5477, 0.3],
[2.76611, 3.52088, 0.3],
[2.73411, 3.50982, 0.3],
[2.68277, 3.47194, 0.3],
[2.65999, 3.47251, 0.3],
[2.62033, 3.44941, 0.3],
[2.59251, 3.44231, 0.3],
[2.55501, 3.42115, 0.3],
[2.52634, 3.41201, 0.3],
[2.49721, 3.40187, 0.3],
[2.47388, 3.39978, 0.3],
[2.44668, 3.39177, 0.3],
[2.42853, 3.39685, 0.3],
[2.39984, 3.38603, 0.3],
[2.36908, 3.3717, 0.3],
[2.34506, 3.36719, 0.3],
[2.31949, 3.36003, 0.3],
[2.28862, 3.3443, 0.3],
[2.259, 3.33004, 0.3],
[2.23648, 3.32659, 0.3],
[2.15792, 3.23312, 0.3],
[2.14381, 3.24191, 0.3],
[2.12393, 3.24126, 0.3],
[2.10979, 3.2499, 0.3],
[2.09561, 3.25848, 0.3],
[2.07424, 3.25497, 0.3],
[2.05193, 3.24961, 0.3],
[2.0282, 3.24152, 0.3],
[2.00706, 3.23762, 0.3],
[1.986, 3.2336, 0.3],
[1.95124, 3.20509, 0.3],
[1.93238, 3.20425, 0.3],
[1.91162, 3.19981, 0.3],
[1.89526, 3.20314, 0.3],
[1.87461, 3.19848, 0.3],
[1.85263, 3.19106, 0.3],
[1.82745, 3.17732, 0.3],
[1.80569, 3.16963, 0.3],
[1.78264, 3.15914, 0.3],
[1.76428, 3.1574, 0.3],
[1.74643, 3.15645, 0.3],
[1.71917, 3.13666, 0.3],
[1.70549, 3.14353, 0.3],
[1.69178, 3.15034, 0.3],
[1.68374, 3.16878, 0.3],
[3.81161, 7.61993, 0.3],
[3.77838, 7.6359, 0.3],
[3.73016, 7.62008, 0.3],
[3.69482, 7.63116, 0.3],
[3.66154, 7.64663, 0.3],
[3.63772, 7.68287, 0.3],
[3.62678, 7.74823, 0.3],
[3.61493, 7.81272, 0.3],
[3.59252, 7.85437, 0.3],
[3.58098, 7.92166, 0.3],
[3.55629, 7.95959, 0.3],
[3.54461, 8.02875, 0.3],
[3.51694, 8.06107, 0.3],
[3.50358, 8.12841, 0.3],
[3.48894, 8.19393, 0.3],
[3.4678, 8.24465, 0.3],
[3.43444, 8.26561, 0.3],
[3.42842, 8.35622, 0.3],
[3.39995, 8.39102, 0.3],
[3.39344, 8.4836, 0.3],
[3.37096, 8.53607, 0.3],
[3.35648, 8.61099, 0.3],
[3.32343, 8.63716, 0.3],
[3.30661, 8.70831, 0.3],
[3.28923, 8.77948, 0.3],
[3.26696, 8.8384, 0.3],
[3.25016, 8.91429, 0.3],
[3.22138, 8.9571, 0.3],
[3.19325, 9.00268, 0.3],
[3.17365, 9.07473, 0.3],
[3.16068, 9.16862, 0.3],
[3.13553, 9.22738, 0.3],
[3.11936, 9.31562, 0.3],
[3.08956, 9.36288, 0.3],
[3.06949, 9.44253, 0.3],
[3.04731, 9.5174, 0.3],
[3.02396, 9.59034, 0.3],
[2.99435, 9.64408, 0.3],
[2.97356, 9.72942, 0.3],
[2.94794, 9.80035, 0.3],
[2.92529, 9.88375, 0.3],
[2.8822, 9.89583, 0.3],
[0.974478, 3.06396, 0.3],
[0.961121, 3.06758, 0.3],
[0.940116, 3.04213, 0.3],
[0.926855, 3.0456, 0.3],
[0.920958, 3.07809, 0.3],
[0.908749, 3.08633, 0.3],
[0.89482, 3.08771, 0.3],
[0.881361, 3.09099, 0.3],
[0.867887, 3.0942, 0.3],
[0.851702, 3.08566, 0.3],
[0.838251, 3.08874, 0.3],
[0.824788, 3.09176, 0.3],
[0.812372, 3.09962, 0.3],
[0.798861, 3.10253, 0.3],
[0.785338, 3.10538, 0.3],
[0.771803, 3.10817, 0.3],
[0.757865, 3.10894, 0.3],
[0.744314, 3.11161, 0.3],
[0.731312, 3.11717, 0.3],
[0.721915, 3.14234, 0.3],
[2.05801, 10.6114, 0.3],
[2.01176, 10.6197, 0.3],
[1.55598, 10.4057, 0.3],
[1.51233, 10.4247, 0.3],
[1.4669, 10.4306, 0.3],
[1.03763, 10.2536, 0.3],
[0.993527, 10.2644, 0.3],
[0.948249, 10.2611, 0.3],
[0.493036, 10.0718, 0.3],
[0.449982, 10.1002, 0.3],
[0.405264, 10.0745, 0.3],
]
measurements=[
[11.7942, 4.2452, ],
[1.91692, 3.20252, ],
[9.05524, -3.47365, ],
[5.88549, 1.11769, ],
[3.88553, -5.23606, ],
[8.53922, -3.6803, ],
[13.9453, -1.94628, ],
[10.2809, -3.42539, ],
[10.9917, 6.78789, ],
[7.85139, -3.89363, ],
[1.60977, -7.01032, ],
[3.6421, 7.78638, ],
[5.86479, 0.752325, ],
[1.08227, -7.18693, ],
[3.46463, 8.23776, ],
[2.14521, -6.84142, ],
[3.18724, 9.05078, ],
[4.41258, -5.04926, ],
[5.23834, 4.6156, ],
[12.3117, 2.6716, ],
[4.10957, -6.52361, ],
[1.39321, 10.3787, ],
[3.05664, 9.47871, ],
[14.0106, -2.36003, ],
[0.554116, -7.35068, ],
[2.45299, 3.39679, ],
[6.75625, -4.26252, ],
[3.48529, 3.85235, ],
[9.37007, 2.91261, ],
[10.352, 8.65539, ],
[11.1237, 6.38023, ],
[5.50858, 4.14277, ],
[14.431, -3.83919, ],
[5.46646, 1.37751, ],
[5.02206, 2.27822, ],
[2.67742, -6.66813, ],
[4.19166, -7.03338, ],
[3.32858, 8.65548, ],
[3.02197, 3.63852, ],
[0.845743, 3.09093, ],
[12.5979, -0.683662, ],
[4.95752, -4.86747, ],
[5.98763, 0.127483, ],
[3.09884, -6.54389, ],
[6.02875, -4.48473, ],
[5.49445, -4.68238, ],
[7.32406, -4.07099, ],
[15.0502, -1.37587, ],
[5.65829, 3.84937, ],
[16.1793, 1.01327, ],
[7.86605, -1.62782, ],
]
# Debug info for after prunning at t
means=[]
stds=[]
weights=[]
means.append([5.60789, 3.89762, -0.428072, -0.141204, ])
stds.append([[0.00139274, -0.000553687, 0.00304028, -0.000715407, ], 
[-0.000553687, 0.00249888, -0.000761498, 0.00426941, ], 
[0.00304028, -0.000761498, 0.014091, -0.00170721, ], 
[-0.000715407, 0.00426941, -0.00170721, 0.0169062, ], 
])
weights.append(2.09729)
means.append([5.23678, 4.608, 0.00150914, 0.0100593, ])
stds.append([[0.00115849, 1.66783e-07, 0.00269695, 2.43078e-07, ], 
[1.66783e-07, 0.00115728, 2.83593e-07, 0.00269513, ], 
[0.00269695, 2.83593e-07, 0.0132866, 2.51158e-07, ], 
[2.43078e-07, 0.00269513, 2.51158e-07, 0.0132824, ], 
])
weights.append(1.04987)
means.append([9.37108, 2.91291, 0.00208273, 0.000692717, ])
stds.append([[0.00125271, 3.57014e-08, 0.00290014, 5.43339e-08, ], 
[3.57014e-08, 0.0012526, 5.43339e-08, 0.00289998, ], 
[0.00290014, 5.43339e-08, 0.0137932, 1.23888e-07, ], 
[5.43339e-08, 0.00289998, 1.23888e-07, 0.0137929, ], 
])
weights.append(1.04987)
means.append([7.87067, -1.60734, -1.11438, 0.259168, ])
stds.append([[0.00116366, -9.57967e-07, 0.00270058, -5.14416e-07, ], 
[-9.57967e-07, 0.00115666, -4.89328e-07, 0.00269327, ], 
[0.00270058, -4.89328e-07, 0.0132578, -6.17143e-07, ], 
[-5.14416e-07, 0.00269327, -6.17143e-07, 0.0132512, ], 
])
weights.append(1.04987)
means.append([12.5841, -0.735794, -0.763996, -0.515781, ])
stds.append([[0.001159, 1.86457e-06, 0.00269818, 2.97424e-06, ], 
[1.86457e-06, 0.0011651, 2.72539e-06, 0.00270915, ], 
[0.00269818, 2.72539e-06, 0.013261, 3.5816e-06, ], 
[2.97424e-06, 0.00270915, 3.5816e-06, 0.0133035, ], 
])
weights.append(1.04987)
means.append([15.0416, -1.3679, 0.0453332, -0.187124, ])
stds.append([[0.00273837, 0.000325217, 0.00160701, -0.000280976, ], 
[0.000325217, 0.00334323, -0.000356445, 0.00147224, ], 
[0.00160701, -0.000356445, 0.040592, -0.00101254, ], 
[-0.000280976, 0.00147224, -0.00101254, 0.0444425, ], 
])
weights.append(1.04975)
means.append([11.0554, 6.59533, -0.108546, 0.32989, ])
stds.append([[0.00436867, -0.010036, 0.00809304, -0.0167447, ], 
[-0.010036, 0.0325043, -0.0168576, 0.0549879, ], 
[0.00809304, -0.0168576, 0.0223594, -0.0282042, ], 
[-0.0167447, 0.0549879, -0.0282042, 0.100743, ], 
])
weights.append(2.09973)
means.append([13.9902, -2.22988, 0.016356, -0.0147253, ])
stds.append([[0.00143, -0.00109641, 0.00318386, -0.00134916, ], 
[-0.00109641, 0.00957706, -0.00124929, 0.0136095, ], 
[0.00318386, -0.00124929, 0.0144481, -0.00184103, ], 
[-0.00134916, 0.0136095, -0.00184103, 0.0301636, ], 
])
weights.append(2.05207)
means.append([16.1471, 1.06221, 0.0150276, -0.0164313, ])
stds.append([[0.00254836, 5.79092e-05, 0.00176455, -0.000134607, ], 
[5.79092e-05, 0.002707, -0.000202155, 0.00191559, ], 
[0.00176455, -0.000202155, 0.0405016, -0.00112035, ], 
[-0.000134607, 0.00191559, -0.00112035, 0.0441775, ], 
])
weights.append(1.04986)
means.append([3.41108, 8.42916, -5.57592e-05, 0.00056721, ])
stds.append([[0.0278338, -0.0749562, 0.00967219, -0.0165242, ], 
[-0.0749562, 0.214038, -0.017564, 0.0502356, ], 
[0.00967219, -0.017564, 0.0263485, -0.0293506, ], 
[-0.0165242, 0.0502356, -0.0293506, 0.098772, ], 
])
weights.append(4.14915)
means.append([14.4326, -3.83825, 0.017483, -0.22695, ])
stds.append([[0.00188519, 0.00153551, 0.00237011, -0.000474287, ], 
[0.00153551, 0.00757468, -0.000464684, 0.000492876, ], 
[0.00237011, -0.000464684, 0.0147079, 0.000179079, ], 
[-0.000474287, 0.000492876, 0.000179079, 0.0159969, ], 
])
weights.append(1.04998)
means.append([5.73687, 1.08298, -0.124176, 0.169871, ])
stds.append([[0.0287294, -0.0374675, 0.022619, -0.0276507, ], 
[-0.0374675, 0.0584759, -0.0250389, 0.0465814, ], 
[0.022619, -0.0250389, 0.030878, -0.0201206, ], 
[-0.0276507, 0.0465814, -0.0201206, 0.0509297, ], 
])
weights.append(3.14959)
means.append([10.3994, 8.52103, -0.00489799, 0.00193727, ])
stds.append([[0.00116175, -1.49588e-05, 0.002703, -2.09204e-05, ], 
[-1.49588e-05, 0.00120108, -2.09372e-05, 0.00275834, ], 
[0.002703, -2.09372e-05, 0.0132818, -5.10559e-05, ], 
[-2.09204e-05, 0.00275834, -5.10559e-05, 0.0134168, ], 
])
weights.append(1.04986)
means.append([4.12667, -6.73485, 0.00144524, -0.0130221, ])
stds.append([[0.00129087, -0.00119175, 0.00285436, -0.00107984, ], 
[-0.00119175, 0.0133959, -0.00131059, 0.0131912, ], 
[0.00285436, -0.00131059, 0.0135826, -0.00201212, ], 
[-0.00107984, 0.0131912, -0.00201212, 0.0296143, ], 
])
weights.append(2.04992)
means.append([8.49753, -3.67732, 0.358356, 0.127645, ])
stds.append([[0.866394, 0.289351, 0.164212, 0.0561076, ], 
[0.289351, 0.0980131, 0.0540305, 0.0216191, ], 
[0.164212, 0.0540305, 0.201263, 0.0633377, ], 
[0.0561076, 0.0216191, 0.0633377, 0.0349282, ], 
])
weights.append(2.36521)
means.append([0.869919, -7.25071, -0.1361, -0.0441782, ])
stds.append([[0.117245, 0.0372742, 0.0418235, 0.0124733, ], 
[0.0372742, 0.0131555, 0.0125305, 0.00674347, ], 
[0.0418235, 0.0125305, 0.0558119, 0.013616, ], 
[0.0124733, 0.00674347, 0.013616, 0.0177217, ], 
])
weights.append(2.19913)
means.append([5.02114, 2.27718, 0.00438558, -0.00968066, ])
stds.append([[0.00115621, -1.94189e-07, 0.0026939, -5.05769e-07, ], 
[-1.94189e-07, 0.00115652, -5.70924e-07, 0.00269489, ], 
[0.0026939, -5.70924e-07, 0.0132574, -7.78088e-06, ], 
[-5.05769e-07, 0.00269489, -7.78088e-06, 0.0132677, ], 
])
weights.append(1.04982)
means.append([2.88439, -6.60556, 0.233175, 0.0741574, ])
stds.append([[0.0372308, 0.0113389, 0.0265777, 0.00734985, ], 
[0.0113389, 0.00471903, 0.00744196, 0.00498129, ], 
[0.0265777, 0.00744196, 0.0916367, 0.0246799, ], 
[0.00734985, 0.00498129, 0.0246799, 0.0210159, ], 
])
weights.append(2.10562)
means.append([6.06076, 0.0811414, 1.16848, -0.499572, ])
stds.append([[0.00117881, -3.27991e-06, 0.00273651, -1.37439e-05, ], 
[-3.27991e-06, 0.00116549, -1.37316e-05, 0.00270471, ], 
[0.00273651, -1.37316e-05, 0.013371, -2.19945e-05, ], 
[-1.37439e-05, 0.00270471, -2.19945e-05, 0.0132819, ], 
])
weights.append(1.04956)
means.append([10.2781, -3.41959, 0.0328989, -0.0439424, ])
stds.append([[0.00126612, 5.82159e-06, 0.00305185, -5.95865e-05, ], 
[5.82159e-06, 0.00120466, 5.53453e-05, 0.0027747, ], 
[0.00305185, 5.53453e-05, 0.0152732, -0.00125349, ], 
[-5.95865e-05, 0.0027747, -0.00125349, 0.0153768, ], 
])
weights.append(1.04939)
means.append([2.23234, 3.32864, 0.065059, 0.0341632, ])
stds.append([[0.13453, 0.0439559, 0.0732538, 0.010247, ], 
[0.0439559, 0.0170572, 0.0230672, 0.00860966, ], 
[0.0732538, 0.0230672, 0.0753556, 0.014434, ], 
[0.010247, 0.00860966, 0.014434, 0.023043, ], 
])
weights.append(2.20143)
means.append([3.25208, 3.73828, 0.577685, 0.234208, ])
stds.append([[0.0556478, 0.0237595, 0.0290318, 0.0136417, ], 
[0.0237595, 0.0120017, 0.0112543, 0.0094196, ], 
[0.0290318, 0.0112543, 0.0516561, 0.0160134, ], 
[0.0136417, 0.0094196, 0.0160134, 0.0224215, ], 
])
weights.append(1.99999)
means.append([5.4505, -4.69325, -0.194503, -0.0582156, ])
stds.append([[0.239523, 0.0827168, 0.0531245, 0.0207158, ], 
[0.0827168, 0.0298529, 0.0174321, 0.00983562, ], 
[0.0531245, 0.0174321, 0.188083, 0.0596994, ], 
[0.0207158, 0.00983562, 0.0596994, 0.0336883, ], 
])
weights.append(3.09445)
means.append([0.773563, 3.1042, -0.56951, 0.228461, ])
stds.append([[0.00223759, 4.26683e-05, 0.00394559, 0.000443889, ], 
[4.26683e-05, 0.00159192, 0.0015279, 0.00271717, ], 
[0.00394559, 0.0015279, 0.0322396, 0.00463092, ], 
[0.000443889, 0.00271717, 0.00463092, 0.0169045, ], 
])
weights.append(1.04937)
means.append([1.87117, -6.92842, 0.212644, 0.0689833, ])
stds.append([[0.0670555, 0.0208776, 0.0273348, 0.00744619, ], 
[0.0208776, 0.00774046, 0.00781034, 0.00499531, ], 
[0.0273348, 0.00781034, 0.0514859, 0.0121396, ], 
[0.00744619, 0.00499531, 0.0121396, 0.016989, ], 
])
weights.append(1.99434)
means.append([4.15338, -5.14054, -0.468484, -0.163953, ])
stds.append([[0.0642445, 0.0219475, 0.0354375, 0.0118148, ], 
[0.0219475, 0.00875756, 0.0113477, 0.00672019, ], 
[0.0354375, 0.0113477, 0.17586, 0.0555537, ], 
[0.0118148, 0.00672019, 0.0555537, 0.0321395, ], 
])
weights.append(1.99996)
means.append([3.04812, 9.50626, -0.0177072, 0.120759, ])
stds.append([[0.0015583, -0.000485097, 0.00363232, -0.000571042, ], 
[-0.000485097, 0.00306949, -4.35862e-05, 0.00402046, ], 
[0.00363232, -4.35862e-05, 0.0236461, -0.0216632, ], 
[-0.000571042, 0.00402046, -0.0216632, 0.0772258, ], 
])
weights.append(1.04987)
means.append([7.04181, -4.16432, 0.050115, 0.0192443, ])
stds.append([[0.0765314, 0.0247965, 0.0277867, 0.00825111, ], 
[0.0247965, 0.00933922, 0.00847022, 0.00548871, ], 
[0.0277867, 0.00847022, 0.175565, 0.0544712, ], 
[0.00825111, 0.00548871, 0.0544712, 0.0315436, ], 
])
weights.append(1.99997)
means.append([7.84481, -3.89542, 0.181153, 0.0673246, ])
stds.append([[0.0042483, 0.00102961, 0.00630287, 0.00120673, ], 
[0.00102961, 0.00153362, 0.00119985, 0.0031371, ], 
[0.00630287, 0.00119985, 0.150744, 0.0459806, ], 
[0.00120673, 0.0031371, 0.0459806, 0.0287194, ], 
])
weights.append(1.03843)
means.append([10.5225, -2.54098, 0.230905, 0.881788, ])
stds.append([[0.00291788, 0.000352469, 0.0133642, 0.00311564, ], 
[0.000352469, 0.00168714, 0.0030223, 0.00446099, ], 
[0.0133642, 0.0030223, 0.113665, 0.0324193, ], 
[0.00311564, 0.00446099, 0.0324193, 0.0254985, ], 
])
weights.append(0.0498684)

# Convert to numpy
laser = np.array(pointcloud)
measurements = np.array(measurements)
#particles = np.array(particles)
#resampled_particles = np.array(resampled_particles)
# Read the map
map_dir = '/data/icl/icl_robot/maps/'
map_yaml = yaml.load(open(map_dir + 'doc_real.yaml'))
map_img = imread(map_dir + map_yaml['image'])
map_resolution = map_yaml['resolution']
map_extent = (map_yaml['origin'][0], map_yaml['origin'][0] + map_resolution * map_img.shape[1], map_yaml['origin'][1] + map_resolution * map_img.shape[0], map_yaml['origin'][1])

# Create the figure
figure()
ax = subplot(111, aspect='equal')
#xlim((5, 30))
#ylim((0,-10))
# Display the map
#imshow(map_img, extent=map_extent, cmap=plt.cm.gray)
# Display the laser
plot(measurements[:,0], measurements[:,1], 'bo', mec='b')
plot(laser[:,0], laser[:,1], 'r.', mec='r')
# Display the resampled particles
#plot(particles[:,0], particles[:,1], 'g,', mec='g', alpha=0.5)
#plot(resampled_particles[:,0], resampled_particles[:,1], 'b,', alpha=0.5)

# Display the gaussians
variables = dir()
means_ = False
for v in variables:
    if v.find('means') > -1:
        means_ = np.array(eval(v))
    if v.find('stds') > -1:
        stds = np.array(eval(v))
    if v.find('weights') > -1:
        weigths = np.array(eval(v))
if means_ is not False:
    from matplotlib.patches import Ellipse, Arrow
    print means_.shape[0]
    for i in range(weigths.shape[0]):
        (w,v) = np.linalg.eig(stds[i,:,:])
        angle = m.atan2(v[0,1], v[0,0])
        e = Ellipse(xy=means_[i,0:2], width=2.0*m.sqrt(w[0]), height=2.0*m.sqrt(w[1]), angle=m.degrees(angle), alpha=0.5, fc=plt.cm.jet(weigths[i]))
        ax.add_artist(e)
        a = Arrow(x=means_[i,0], y=means_[i,1], dx=means_[i,2], dy=means_[i,3])
        ax.add_artist(a)
    print "Total weight: %f" % np.sum(weigths)
show()
